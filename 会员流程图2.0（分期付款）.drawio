<mxfile host="app.diagrams.net" modified="2023-12-02T07:04:45.195Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36" etag="LhFcxPaN47bZO8xM6Bm-" version="22.1.5" type="github" pages="16">
  <diagram id="l4Cj2leG0R0wFEhPTzwT" name="会员入口-极速购">
    <mxGraphModel dx="1242" dy="789" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="savcVzk-f5BRL2VxX_FF-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="savcVzk-f5BRL2VxX_FF-2" target="savcVzk-f5BRL2VxX_FF-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="150" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="savcVzk-f5BRL2VxX_FF-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="414" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-4" value="原逻辑不变" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="351" y="271" width="126" height="60" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-5" value="j是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="savcVzk-f5BRL2VxX_FF-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="410" y="435" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-6" value="5551产品" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="366" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-7" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="savcVzk-f5BRL2VxX_FF-8" target="savcVzk-f5BRL2VxX_FF-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-8" value="fastShop.isOpen=1" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="435" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-9" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="savcVzk-f5BRL2VxX_FF-10" target="savcVzk-f5BRL2VxX_FF-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-10" value="不是会员" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="535" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="savcVzk-f5BRL2VxX_FF-12" target="savcVzk-f5BRL2VxX_FF-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-12" value="小于日单量限制 fastShop.billCount" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="795" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-13" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="savcVzk-f5BRL2VxX_FF-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="410" y="735" as="targetPoint" />
            <mxPoint x="410" y="665" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-14" value="服务售价是否小于等于200元" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="615" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-15" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="savcVzk-f5BRL2VxX_FF-16" target="savcVzk-f5BRL2VxX_FF-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-16" value="不存在在途账单信息" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="705" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="savcVzk-f5BRL2VxX_FF-17" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="350" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2ekhlXl-fIYN4ke2bPKh-1" value="会员入口-极速购" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="60" y="50" width="140" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="WR9bwrBVt8_hbh488IPd" name="账单已关联借款单job">
    <mxGraphModel dx="1426" dy="877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-2" target="tq0MYcZ4fcOQXifpBAu8-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-2" value="根据用户账单轮询&lt;br style=&quot;font-size: 13px;&quot;&gt;（状态为初始化，起止时间为创建时间前30天至当前时间2h）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="324.78" y="70" width="227.93" height="65" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-4" target="tq0MYcZ4fcOQXifpBAu8-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-4" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="389.52" y="10" width="102.36" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=13;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-6" target="tq0MYcZ4fcOQXifpBAu8-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="441.40000000000003" y="474.00644385256464" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-6" value="&lt;div&gt;通过cbs请求营销系统&lt;/div&gt;&lt;div&gt;查询券详情&lt;/div&gt;" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="360.21999999999997" y="470" width="162.8" height="33" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-7" value="账单是否关联借款单" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="375.2" y="250" width="131.94" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-9" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-9" value="账单未关联借款单job处理" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="705" y="240.51" width="110" height="68.99" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-7" target="tq0MYcZ4fcOQXifpBAu8-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-11" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-10" vertex="1" connectable="0">
          <mxGeometry x="-0.2416" y="-2" relative="1" as="geometry">
            <mxPoint x="1" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=13;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-14" target="tq0MYcZ4fcOQXifpBAu8-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="441.59999999999985" y="404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-13" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-12" vertex="1" connectable="0">
          <mxGeometry x="-0.1422" relative="1" as="geometry">
            <mxPoint x="-1" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-14" value="&lt;div&gt;是否已使用权益&lt;/div&gt;&lt;div&gt;（优惠券）&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="374.07000000000005" y="389" width="134.2" height="56" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-7" target="tq0MYcZ4fcOQXifpBAu8-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="445.1333333333334" y="299" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-16" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-15" vertex="1" connectable="0">
          <mxGeometry x="-0.5598" relative="1" as="geometry">
            <mxPoint x="-1" y="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-14" target="tq0MYcZ4fcOQXifpBAu8-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-18" value="是（状态4）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-17" vertex="1" connectable="0">
          <mxGeometry x="-0.1346" y="5" relative="1" as="geometry">
            <mxPoint y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-56" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="499.5800000000001" y="499" as="sourcePoint" />
            <mxPoint x="509.79000000000286" y="796.75" as="targetPoint" />
            <Array as="points">
              <mxPoint x="680" y="648" />
              <mxPoint x="723" y="648" />
              <mxPoint x="723" y="1043" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-20" value="进件中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-19" vertex="1" connectable="0">
          <mxGeometry x="-0.7235" relative="1" as="geometry">
            <mxPoint x="31" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-23" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.417;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=8 8;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-23" target="tq0MYcZ4fcOQXifpBAu8-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-23" value="更新账单为待付款" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="49.99999999999997" y="890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-55" target="tq0MYcZ4fcOQXifpBAu8-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="392.96999999999997" y="599" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-25" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-24" vertex="1" connectable="0">
          <mxGeometry x="-0.5421" y="-1" relative="1" as="geometry">
            <mxPoint x="-58" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-26" value="发短信" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="160" y="990" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-27" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="377.29" y="1020" width="126.82" height="45.5" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-28" value="账单已关联借款单job" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="12.840000000000003" y="20" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-52" target="tq0MYcZ4fcOQXifpBAu8-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-52" value="获取账单关联的服务单权益列表" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="390.47" y="333.5" width="101.82" height="40" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-53" value="" style="swimlane;startSize=0;fontSize=13;container=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="210" y="513.5" width="470" height="336.5" as="geometry">
            <mxRectangle x="298.83" y="400" width="50" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-54" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="tq0MYcZ4fcOQXifpBAu8-53" source="tq0MYcZ4fcOQXifpBAu8-55" target="tq0MYcZ4fcOQXifpBAu8-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-55" value="是否已使用" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="177.12000000000003" y="39.76" width="109" height="54" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-56" value="是否冻结" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="353.60999999999996" y="93.75999999999999" width="116.39" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-57" value="循环判断，有终态跳出，无终态顺序执行" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="330" y="3" width="130.67" height="47" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="tq0MYcZ4fcOQXifpBAu8-53" source="tq0MYcZ4fcOQXifpBAu8-60" target="tq0MYcZ4fcOQXifpBAu8-63" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="60" y="156.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-59" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-58" vertex="1" connectable="0">
          <mxGeometry x="-0.4004" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-60" value="是否折扣券" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="193.15" y="102.38999999999999" width="92.97" height="32.75" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="tq0MYcZ4fcOQXifpBAu8-53" source="tq0MYcZ4fcOQXifpBAu8-56" target="tq0MYcZ4fcOQXifpBAu8-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-62" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-61" vertex="1" connectable="0">
          <mxGeometry x="-0.5157" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-63" value="查询BillLoan记录DiscountFlag" style="rhombus;whiteSpace=wrap;html=1;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="40" y="156.5" width="120" height="53.5" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-64" value="&lt;div&gt;是否在退订&lt;/div&gt;&lt;div&gt;时间窗口内&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="tq0MYcZ4fcOQXifpBAu8-53" vertex="1">
          <mxGeometry x="48" y="245" width="105" height="63.5" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="tq0MYcZ4fcOQXifpBAu8-53" source="tq0MYcZ4fcOQXifpBAu8-63" target="tq0MYcZ4fcOQXifpBAu8-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-70" target="tq0MYcZ4fcOQXifpBAu8-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-67" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-66" vertex="1" connectable="0">
          <mxGeometry x="-0.1545" y="2" relative="1" as="geometry">
            <mxPoint x="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-70" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="40" y="185" />
              <mxPoint x="40" y="1043" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-69" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="tq0MYcZ4fcOQXifpBAu8-68" vertex="1" connectable="0">
          <mxGeometry x="-0.7639" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-70" value="账单关联的订单是否支付成功或处理中" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="349.4" y="160" width="184.8" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-63" target="tq0MYcZ4fcOQXifpBAu8-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-78" value="已使用（2）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-77" vertex="1" connectable="0">
          <mxGeometry x="0.0477" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.633;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=8 8;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-81" target="tq0MYcZ4fcOQXifpBAu8-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-81" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="303" y="990" />
              <mxPoint x="441" y="990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-81" value="退订账单" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="250" y="889.995" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-64" target="tq0MYcZ4fcOQXifpBAu8-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-83" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-82" vertex="1" connectable="0">
          <mxGeometry x="0.2017" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-85" target="tq0MYcZ4fcOQXifpBAu8-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="506" y="990" />
              <mxPoint x="441" y="990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-85" value="本次不处理" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="452.71" y="880" width="107.29" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-64" target="tq0MYcZ4fcOQXifpBAu8-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-87" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-86" vertex="1" connectable="0">
          <mxGeometry x="0.2624" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.59;entryY=0.02;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-63" target="tq0MYcZ4fcOQXifpBAu8-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="516" y="697" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-89" value="进行中（1）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-88" vertex="1" connectable="0">
          <mxGeometry x="0.2611" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="tq0MYcZ4fcOQXifpBAu8-60" target="tq0MYcZ4fcOQXifpBAu8-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="670" />
              <mxPoint x="580" y="670" />
              <mxPoint x="580" y="905" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tq0MYcZ4fcOQXifpBAu8-91" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="tq0MYcZ4fcOQXifpBAu8-90" vertex="1" connectable="0">
          <mxGeometry x="0.0314" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="zbX8WrFNNNUKAlqWa0Zx" name="账单未关联借款单job">
    <mxGraphModel dx="1426" dy="-292" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-1" value="账单未关联借款单job" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="40" y="1420" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-3" target="0pN_9ah-fuLOu2WrTvcP-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-3" value="根据用户账单轮询&lt;br style=&quot;font-size: 13px;&quot;&gt;（状态为初始化）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="219.9997014925373" y="1474.49" width="132.58208955223884" height="38.5" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-5" target="0pN_9ah-fuLOu2WrTvcP-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-5" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="67.16" y="1474.49" width="102.36" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-6" value="账单是否关联借款单" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="397.58" y="1469.49" width="131.94" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-8" target="0pN_9ah-fuLOu2WrTvcP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-8" value="账单已关联借款单job处理" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="647.16" y="1460" width="110" height="68.99" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-6" target="0pN_9ah-fuLOu2WrTvcP-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-10" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-9" vertex="1" connectable="0">
          <mxGeometry x="-0.2416" y="-2" relative="1" as="geometry">
            <mxPoint x="1" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=17;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-15" target="0pN_9ah-fuLOu2WrTvcP-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="462.76000000000016" y="1640.49" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-12" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-11" vertex="1" connectable="0">
          <mxGeometry x="-0.3338" y="1" relative="1" as="geometry">
            <mxPoint x="-3" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-15" target="0pN_9ah-fuLOu2WrTvcP-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-14" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-13" vertex="1" connectable="0">
          <mxGeometry x="-0.0954" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-15" value="是否使用会员权益" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="399.06" y="1561.49" width="128.68" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-6" target="0pN_9ah-fuLOu2WrTvcP-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-17" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-16" vertex="1" connectable="0">
          <mxGeometry x="-0.4559" y="-2" relative="1" as="geometry">
            <mxPoint x="2" y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-19" target="0pN_9ah-fuLOu2WrTvcP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-19" value="更新账单状态为待还款" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="407.35" y="1638.4875" width="112.8358208955224" height="33" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-21" target="0pN_9ah-fuLOu2WrTvcP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-21" value="发起退订" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="642.16" y="1551.49" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-22" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="409.81" y="1704.49" width="102.36" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-27" target="0pN_9ah-fuLOu2WrTvcP-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-24" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-23" vertex="1" connectable="0">
          <mxGeometry x="0.0019" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="0pN_9ah-fuLOu2WrTvcP-27" target="0pN_9ah-fuLOu2WrTvcP-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-26" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="0pN_9ah-fuLOu2WrTvcP-25" vertex="1" connectable="0">
          <mxGeometry x="-0.5764" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0pN_9ah-fuLOu2WrTvcP-27" value="账单关联的订单是否支付成功或处理中" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="219.99999999999997" y="1561.49" width="131.94" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="GxRckqAJmVH20fCthGRb" name="账单主动还款">
    <mxGraphModel dx="1426" dy="877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2Puyj6a2zpiCZFd1bAM0-1" value="账单主动还款" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry x="50" y="50" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GUEO7-mp0O6-m8w5HXDg-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="GUEO7-mp0O6-m8w5HXDg-1" target="VtETt7zsWShCj_KQO5Nm-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="414" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GUEO7-mp0O6-m8w5HXDg-1" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="364" y="100" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="VtETt7zsWShCj_KQO5Nm-1" target="LeO418ne05axi44xnyPm-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VtETt7zsWShCj_KQO5Nm-1" value="支付发送短验逻辑" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="356" y="180" width="116" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PykQmB-K6NyRhV1z_3cQ-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="LeO418ne05axi44xnyPm-1" target="PykQmB-K6NyRhV1z_3cQ-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-1" value="加redis锁&lt;br&gt;（根据账单号）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="361" y="266" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="LeO418ne05axi44xnyPm-3" target="H88JiUN3dutMm7Yb5FvI-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-7" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="LeO418ne05axi44xnyPm-6" vertex="1" connectable="0">
          <mxGeometry x="-0.3511" y="-2" relative="1" as="geometry">
            <mxPoint x="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="LeO418ne05axi44xnyPm-3" target="GIb_LKvZr7vbbeE6dHqw-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="441" />
              <mxPoint x="720" y="895" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-13" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="H88JiUN3dutMm7Yb5FvI-12" vertex="1" connectable="0">
          <mxGeometry x="-0.8252" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-3" value="账单是否处于待还款状态" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="352" y="416" width="124" height="50" as="geometry" />
        </mxCell>
        <mxCell id="76jtB_B9DRCSjzMBYOSa-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="LeO418ne05axi44xnyPm-5" target="76jtB_B9DRCSjzMBYOSa-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LeO418ne05axi44xnyPm-5" value="发起扣款" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="351" y="573" width="126" height="40" as="geometry" />
        </mxCell>
        <mxCell id="PykQmB-K6NyRhV1z_3cQ-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="PykQmB-K6NyRhV1z_3cQ-1" target="LeO418ne05axi44xnyPm-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PykQmB-K6NyRhV1z_3cQ-4" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="PykQmB-K6NyRhV1z_3cQ-3" vertex="1" connectable="0">
          <mxGeometry x="-0.2533" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="PykQmB-K6NyRhV1z_3cQ-1" target="GIb_LKvZr7vbbeE6dHqw-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="356" />
              <mxPoint x="720" y="895" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-11" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="H88JiUN3dutMm7Yb5FvI-7" vertex="1" connectable="0">
          <mxGeometry x="-0.8145" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PykQmB-K6NyRhV1z_3cQ-1" value="验证码是否正确" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="356" y="331" width="116" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PykQmB-K6NyRhV1z_3cQ-5" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="363" y="935" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="76jtB_B9DRCSjzMBYOSa-1" target="GIb_LKvZr7vbbeE6dHqw-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-3" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="GIb_LKvZr7vbbeE6dHqw-2" vertex="1" connectable="0">
          <mxGeometry x="-0.3939" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="76jtB_B9DRCSjzMBYOSa-1" target="H88JiUN3dutMm7Yb5FvI-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-9" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="H88JiUN3dutMm7Yb5FvI-8" vertex="1" connectable="0">
          <mxGeometry x="-0.1136" y="2" relative="1" as="geometry">
            <mxPoint y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="76jtB_B9DRCSjzMBYOSa-1" value="扣款是否成功" style="rhombus;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="347" y="638" width="132" height="50" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="GIb_LKvZr7vbbeE6dHqw-1" target="GIb_LKvZr7vbbeE6dHqw-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-1" value="更新账单状态&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;t_emc_bill_record新增记录&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="340.25" y="730" width="145.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="GIb_LKvZr7vbbeE6dHqw-6" target="GIb_LKvZr7vbbeE6dHqw-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-6" value="更新主订单金额，子订单状态" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="350.5" y="817" width="125.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="GIb_LKvZr7vbbeE6dHqw-9" target="PykQmB-K6NyRhV1z_3cQ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GIb_LKvZr7vbbeE6dHqw-9" value="redis解锁" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="354.5" y="880" width="117" height="29" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="H88JiUN3dutMm7Yb5FvI-1" target="GIb_LKvZr7vbbeE6dHqw-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="663" />
              <mxPoint x="720" y="895" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-1" value="还原账单状态" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="570" y="648.5" width="117" height="29" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="H88JiUN3dutMm7Yb5FvI-5" target="LeO418ne05axi44xnyPm-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H88JiUN3dutMm7Yb5FvI-5" value="更新账单状态&lt;br&gt;（付款中）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="351" y="504" width="126" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="do1XDaPtj3gIf1iJguJS" name="退订">
    <mxGraphModel dx="1426" dy="877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ort_DaZ8MVvbasx35YRO-1" value="退订" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry x="60" y="50" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="ort_DaZ8MVvbasx35YRO-3" target="ort_DaZ8MVvbasx35YRO-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-3" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="260.5" y="120" width="126" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-4" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="265.5" y="930" width="116" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="ort_DaZ8MVvbasx35YRO-6" target="ort_DaZ8MVvbasx35YRO-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-6" value="更新订单域状态&lt;br&gt;（t_emc_order、t_emc_order_sub、t_emc_order_item）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="239.5" y="230" width="166.75" height="62" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="ort_DaZ8MVvbasx35YRO-8" target="ort_DaZ8MVvbasx35YRO-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-8" value="更新服务、权益状态，结束时间&lt;br&gt;（t_emc_service_order、t_emc_service_order_item、t_emc_privilege_record）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="230" y="332" width="186.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ort_DaZ8MVvbasx35YRO-10" target="ort_DaZ8MVvbasx35YRO-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-10" value="更新会员状态，会员结束时间&lt;br&gt;（t_emc_user_info）" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="247.75" y="456" width="151" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;dashed=1;" parent="1" source="ort_DaZ8MVvbasx35YRO-13" target="ort_DaZ8MVvbasx35YRO-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="ort_DaZ8MVvbasx35YRO-13" target="ort_DaZ8MVvbasx35YRO-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-13" value="更新账单状态（作废）&lt;br&gt;更新t_emc_bill_info，&lt;br&gt;t_emc_bill_record新增记录" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="253" y="698" width="141" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-14" value="发送退订短信" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="489" y="712" width="109" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ort_DaZ8MVvbasx35YRO-16" target="ort_DaZ8MVvbasx35YRO-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="323" y="672" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-16" value="新增退订记录&lt;br&gt;t_emc_order_refund" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="243.5" y="575" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-17" value="&lt;div&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;t_emc_order、t_emc_order_sub &lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;更新状态 91-退订关闭及取消原因TD001&lt;/div&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;t_emc_order_item 新增退款状态&lt;/span&gt;61-退订成功" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="468.5" y="231" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-18" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;t_emc_order_refund&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;新增状态&amp;nbsp;61-退订成功&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;新增退款类型 unsubscribe-退订&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="438.5" y="585" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-19" value="t_emc_service_order、t_emc_service_order_item&lt;br&gt;&lt;div&gt;更新状态 61-已退订，ServiceEndTime&lt;/div&gt;&lt;div&gt;t_emc_privilege_record&lt;/div&gt;&lt;div&gt;状态更新为5-已失效及privilegeEndTime&lt;br&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="448.5" y="337" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="ort_DaZ8MVvbasx35YRO-22" target="ort_DaZ8MVvbasx35YRO-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ort_DaZ8MVvbasx35YRO-22" value="调用cbs请求营销系统作废券" style="whiteSpace=wrap;html=1;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="263.5" y="820" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="pVPi41V1SXsI6dmQ1je1" name="给ctc推送应收流水job">
    <mxGraphModel dx="1426" dy="877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="4cMjxk5Uoq1tQViQGPmw-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="130" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="4cMjxk5Uoq1tQViQGPmw-4" target="4cMjxk5Uoq1tQViQGPmw-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-4" value="查询账单日早于等于当前日期的待付款、逾期待付款账单" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="251" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="4cMjxk5Uoq1tQViQGPmw-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-6" value="向CTC推送账单计提流水" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="381" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="4cMjxk5Uoq1tQViQGPmw-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-8" value="更新账单推送标识&lt;br&gt;t_emc_bill_info&lt;br&gt;f_push_receivable=1" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="501" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-9" value="结束" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="616" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4cMjxk5Uoq1tQViQGPmw-10" value="定时任务：billAccountsReceivableFlowJobRunner" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="480" y="140" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="pF5znph5AysEg_ItLbVW-1" value="给ctc推送应收流水job" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="60" y="80" width="180" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RQMfUnvD2LJDzeBSUPPZ" name="MQ处理账单、借款单关系">
    <mxGraphModel dx="1426" dy="877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UOQ5JSlCoPMVItx6HWIu-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-3" value="接收CBS推送MQ" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="UOQ5JSlCoPMVItx6HWIu-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-5" value="是否存在使用中服务订单" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="210" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-6" value="userId&lt;br&gt;orderStatus=3" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;size=40;position=0;" parent="1" vertex="1">
          <mxGeometry x="440" y="170" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UOQ5JSlCoPMVItx6HWIu-8" target="UOQ5JSlCoPMVItx6HWIu-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-8" value="校验权益" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="306" y="330" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-9" value="userId&lt;br&gt;couponId&lt;br&gt;服务订单orderNo" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;" parent="1" vertex="1">
          <mxGeometry x="435" y="290" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UOQ5JSlCoPMVItx6HWIu-11" target="UOQ5JSlCoPMVItx6HWIu-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-11" value="查询账单" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="302" y="460" width="138" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-12" value="userId&lt;br&gt;mallOrderNo" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;" parent="1" vertex="1">
          <mxGeometry x="440" y="420" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UOQ5JSlCoPMVItx6HWIu-14" target="UOQ5JSlCoPMVItx6HWIu-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-14" value="关联账单借款单insert&lt;br&gt;t_emc_bill_loan" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="311" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-15" value="结束" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="311" y="710" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-16" value="&lt;div&gt;CouponId&lt;/div&gt;&lt;div&gt;ServiceOrderNo&lt;/div&gt;&lt;div&gt;BillNo&lt;/div&gt;&lt;div&gt;MallOrderNo&lt;/div&gt;&lt;div&gt;LoanNo&lt;/div&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;size=30;position=0.08;" parent="1" vertex="1">
          <mxGeometry x="435" y="510" width="155" height="110" as="geometry" />
        </mxCell>
        <mxCell id="UOQ5JSlCoPMVItx6HWIu-17" value="MQ处理账单、借款单关系" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="55" y="70" width="210" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="4WvbQ3mPZx6ahraU6FRs" name="支付扣款（先享后付）">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SttraMfUvX_IL4Ydgw0a-1" value="输入短验，发起扣款" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry x="20" y="40" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="SttraMfUvX_IL4Ydgw0a-2" target="pxCf8_gjEvBLxa2_L34S-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SttraMfUvX_IL4Ydgw0a-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="358" y="60" width="116" height="55" as="geometry" />
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="SttraMfUvX_IL4Ydgw0a-3" target="ugS2c36PFZvM5RjGSSj9-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-3" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="pxCf8_gjEvBLxa2_L34S-2" vertex="1" connectable="0">
          <mxGeometry x="-0.1853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="SttraMfUvX_IL4Ydgw0a-3" target="UpqM-fRpCXFXaDy3pWOs-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="790" y="241" />
              <mxPoint x="790" y="1010" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-9" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="pxCf8_gjEvBLxa2_L34S-8" vertex="1" connectable="0">
          <mxGeometry x="-0.8408" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SttraMfUvX_IL4Ydgw0a-3" value="短信验证码是否正确" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="360.25" y="216" width="111.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="SttraMfUvX_IL4Ydgw0a-5" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="356" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="8mGkgkXp8rtElvk_LI7p-1" target="8sinGT3x7wJpgPYWWMvP-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8mGkgkXp8rtElvk_LI7p-1" value="发起扣款" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="354" y="400" width="126" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8sinGT3x7wJpgPYWWMvP-1" target="DtLDv6GBwC8Vo4x3pISA-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="170" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-5" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="8sinGT3x7wJpgPYWWMvP-4" vertex="1" connectable="0">
          <mxGeometry x="-0.0588" y="2" relative="1" as="geometry">
            <mxPoint y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8sinGT3x7wJpgPYWWMvP-1" target="8sinGT3x7wJpgPYWWMvP-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="414" y="516" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-8" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="8sinGT3x7wJpgPYWWMvP-7" vertex="1" connectable="0">
          <mxGeometry x="-0.2439" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-1" value="扣款是否成功" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="350.5" y="460" width="132" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;" parent="1" source="DtLDv6GBwC8Vo4x3pISA-1" target="UpqM-fRpCXFXaDy3pWOs-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="450" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="8sinGT3x7wJpgPYWWMvP-10" target="8sinGT3x7wJpgPYWWMvP-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-1" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="8sinGT3x7wJpgPYWWMvP-12" vertex="1" connectable="0">
          <mxGeometry x="-0.24" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="8sinGT3x7wJpgPYWWMvP-10" target="8sinGT3x7wJpgPYWWMvP-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-15" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="8sinGT3x7wJpgPYWWMvP-14" vertex="1" connectable="0">
          <mxGeometry x="-0.1781" y="-3" relative="1" as="geometry">
            <mxPoint x="2" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-10" value="是否支持先享后付" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="347.5" y="548" width="137" height="53" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="8sinGT3x7wJpgPYWWMvP-11" target="CqpEOjA8cn_IrEbBz-6Q-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-11" value="更新支付单状态&lt;br&gt;（支付失败）" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="354" y="641" width="124" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;" parent="1" source="8sinGT3x7wJpgPYWWMvP-13" target="UpqM-fRpCXFXaDy3pWOs-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8sinGT3x7wJpgPYWWMvP-13" value="返回支付失败" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="640" y="544.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="CqpEOjA8cn_IrEbBz-6Q-2" target="CqpEOjA8cn_IrEbBz-6Q-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-2" value="更新主订单状态、支付方式（先享后付）、订单金额（实付0元），&lt;br&gt;生成子订单" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="326.5" y="720" width="179" height="80" as="geometry" />
        </mxCell>
        <mxCell id="UpqM-fRpCXFXaDy3pWOs-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;strokeWidth=1;" parent="1" source="CqpEOjA8cn_IrEbBz-6Q-4" target="UpqM-fRpCXFXaDy3pWOs-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-4" value="开通会员，更新服务单状态，下发权益，领取金融券" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="342" y="904" width="148" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;dashed=1;strokeWidth=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="CqpEOjA8cn_IrEbBz-6Q-4" target="CqpEOjA8cn_IrEbBz-6Q-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;dashed=1;strokeWidth=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="CqpEOjA8cn_IrEbBz-6Q-4" target="CqpEOjA8cn_IrEbBz-6Q-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;strokeWidth=1;" parent="1" source="CqpEOjA8cn_IrEbBz-6Q-6" target="CqpEOjA8cn_IrEbBz-6Q-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="416" y="900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-6" value="生成账单（初始化），记账单状态变化表" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="335.5" y="827" width="161" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-8" value="协议签章落库" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="140" y="914" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="CqpEOjA8cn_IrEbBz-6Q-10" value="发送短信" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="550" y="914" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UpqM-fRpCXFXaDy3pWOs-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;strokeWidth=1;" parent="1" source="UpqM-fRpCXFXaDy3pWOs-6" target="SttraMfUvX_IL4Ydgw0a-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UpqM-fRpCXFXaDy3pWOs-6" value="redis解锁" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="349.5" y="990" width="134" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DtLDv6GBwC8Vo4x3pISA-1" value="银行卡支付成功后后续逻辑" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="30" y="455" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ugS2c36PFZvM5RjGSSj9-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="ugS2c36PFZvM5RjGSSj9-1" target="8mGkgkXp8rtElvk_LI7p-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ugS2c36PFZvM5RjGSSj9-7" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="ugS2c36PFZvM5RjGSSj9-5" vertex="1" connectable="0">
          <mxGeometry x="-0.4294" y="-1" relative="1" as="geometry">
            <mxPoint y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="ugS2c36PFZvM5RjGSSj9-1" target="UpqM-fRpCXFXaDy3pWOs-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="790" y="331" />
              <mxPoint x="790" y="1010" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-10" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="pxCf8_gjEvBLxa2_L34S-7" vertex="1" connectable="0">
          <mxGeometry x="-0.8704" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ugS2c36PFZvM5RjGSSj9-1" value="判断订单是否支付成功" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="351.5" y="306" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;" parent="1" source="pxCf8_gjEvBLxa2_L34S-1" target="SttraMfUvX_IL4Ydgw0a-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pxCf8_gjEvBLxa2_L34S-1" value="加redis锁&lt;br&gt;（根据订单号）" style="whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="346.75" y="150" width="138.5" height="36" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="KUPF1rWfR0JIfTcanDQA" name="极速购付款">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-2" target="RhXSYuH8bTCCS6jWZMSx-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-2" value="创建订单并申请支付&lt;br&gt;createOrderAndPayApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-4" target="RhXSYuH8bTCCS6jWZMSx-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-4" value="短信发送次数校验&lt;br&gt;用户相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-6" target="RhXSYuH8bTCCS6jWZMSx-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-6" value="检查支付时间限制&lt;br&gt;（老逻辑没改动）&lt;br&gt;checkPayTimeLimit" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-8" target="RhXSYuH8bTCCS6jWZMSx-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-8" value="用户有状态&amp;lt;5的账单&lt;br&gt;返回异常" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="770" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-10" target="RhXSYuH8bTCCS6jWZMSx-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-10" value="&lt;span&gt;创建订单、服务单&lt;br&gt;&lt;/span&gt;（老逻辑没改动）&lt;br&gt;&lt;span&gt;submitServiceOrder&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="990" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-11" value="&amp;nbsp;创建支付单、发短验&lt;span&gt;&lt;br&gt;后续继续走&lt;/span&gt;payApply&lt;br&gt;paySceneType=1&lt;span&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1210" y="250" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-12" value="账单状态码:&lt;br&gt;1-初始化，2-待付款，3-逾期待付款，4-付款中，5-提前结清，6-已结清，9-已作废" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="970" y="90" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-13" value="支付单状态码:&lt;br&gt;0-初始化，1-支付中，2-支付成功，3-支付失败，4-已退款" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="90" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-14" value="订单状态码：&lt;br&gt;0-初始化，1-已创建，2-待付款，3-审核中，4-待发货，5-待收货，6-交易完成，7-已拒收入库，9-交易关闭，91-退订关闭，99-订单异常关闭" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="90" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-17" target="RhXSYuH8bTCCS6jWZMSx-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-17" target="RhXSYuH8bTCCS6jWZMSx-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-17" value="&lt;span&gt;支付申请&lt;br&gt;payApply&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="250" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-19" target="RhXSYuH8bTCCS6jWZMSx-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-19" value="账单还款&lt;br&gt;paySceneType=2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="380" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-22" target="RhXSYuH8bTCCS6jWZMSx-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-22" target="RhXSYuH8bTCCS6jWZMSx-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-22" value="1.订单的支付流水有支付成功的返回”数据重复“&lt;br&gt;2.如果银行卡支付，支付流水有支付中的返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="755" y="480" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-24" target="RhXSYuH8bTCCS6jWZMSx-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-24" value="支付宝支付&lt;br&gt;payType=alipay" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="370" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-27" target="RhXSYuH8bTCCS6jWZMSx-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-27" target="RhXSYuH8bTCCS6jWZMSx-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-27" value="根据单号幂等校验3秒内不能重复发 返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1190" y="370" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-29" target="RhXSYuH8bTCCS6jWZMSx-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-29" value="银行卡支付&lt;br&gt;payType=bankCard&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="940" y="730" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-31" target="RhXSYuH8bTCCS6jWZMSx-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-31" value="购买&lt;br&gt;paySceneType=1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="380" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-33" target="RhXSYuH8bTCCS6jWZMSx-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-33" value="如果订单bizType=member&lt;br&gt;且用户有状态&amp;lt;5的账单 &lt;br&gt;返回存在未结清账单" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="370" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-36" target="RhXSYuH8bTCCS6jWZMSx-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-36" target="RhXSYuH8bTCCS6jWZMSx-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-36" value="短信发送次数校验&lt;br&gt;相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1170" y="730" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-38" target="RhXSYuH8bTCCS6jWZMSx-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-38" value="paySceneType=1&lt;br&gt;购买&lt;br&gt;mallBankCardApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1380" y="590" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-39" value="如果有支付中的支付流水&amp;amp;&amp;amp;paySceneType = 1&lt;br&gt;订单表保存&lt;br&gt;支付方式:alipay 状态:待付款&lt;br&gt;返回支付流水中的签名数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1186.25" y="480" width="177.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-41" target="RhXSYuH8bTCCS6jWZMSx-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-41" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1440" y="370" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-43" target="RhXSYuH8bTCCS6jWZMSx-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-43" value="支付单保存流水status=支付中&lt;br&gt;如果paySceneType=2&amp;nbsp;&lt;br&gt;支付单paymentOrigin=bill&lt;br&gt;账单status=还款中&lt;br&gt;账单deductionType=主动还款" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1660" y="345" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-44" value="调ctc返回支付宝签名&lt;br&gt;支付单更新支付相关流水号、日期等数据&lt;br&gt;订单表保存&lt;br&gt;支付方式:alipay 状态:待付款" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="360.63" width="170" height="78.75" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-46" target="RhXSYuH8bTCCS6jWZMSx-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-46" value="paySceneType=2&lt;br&gt;账单还款&lt;br&gt;billBankCardApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1380" y="860" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-48" target="RhXSYuH8bTCCS6jWZMSx-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-48" value="账单还款申请&lt;br&gt;支付宝通过返回数据直接拉起&lt;br&gt;银行卡发短验然后调payConfirm" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="490" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="300" y="1215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-50" value="支付确认&lt;br&gt;payConfirm" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="1185" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-52" target="RhXSYuH8bTCCS6jWZMSx-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-52" value="支付单status=初始化&lt;br&gt;paymentOrigin=mall" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="565" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-54" target="RhXSYuH8bTCCS6jWZMSx-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-54" value="支付单status=初始化&lt;br&gt;支付流水paymentOrigin=bill" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1610" y="835" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-55" value="发短信验证码" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-57" target="RhXSYuH8bTCCS6jWZMSx-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-57" value="短信发送次数校验&lt;br&gt;用户相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="1185" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-59" target="RhXSYuH8bTCCS6jWZMSx-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-59" value="购买&lt;br&gt;paySceneType=1&lt;br&gt;mallBankCardPay" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="1065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-61" target="RhXSYuH8bTCCS6jWZMSx-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-61" value="1.校验订单是否有其他支付&lt;br&gt;2.如果有支付中/支付成功的支付单返回”订单已发起支付“&lt;br&gt;3.如果当前支付单非初始化状态返回&quot;数据重复&quot;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="1050" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="RhXSYuH8bTCCS6jWZMSx-82" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820" y="1445" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-63" value="账单还款&lt;br&gt;paySceneType=2&lt;br&gt;billBankCardPay" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="1415" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.558;entryY=0.017;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-66" target="RhXSYuH8bTCCS6jWZMSx-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.558;entryY=1.033;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-66" target="RhXSYuH8bTCCS6jWZMSx-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-66" value="根据单号幂等校验3秒内不能重复发 返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="1185" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-68" target="RhXSYuH8bTCCS6jWZMSx-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-68" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1065" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-70" target="RhXSYuH8bTCCS6jWZMSx-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-70" value="校验订单状态&lt;br&gt;校验验证码&lt;br&gt;支付单更新为支付中" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1350" y="1065" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-74" target="RhXSYuH8bTCCS6jWZMSx-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-74" target="RhXSYuH8bTCCS6jWZMSx-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-74" target="RhXSYuH8bTCCS6jWZMSx-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-74" value="调ctc支付" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1570" y="1065" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-75" value="成功&lt;br&gt;支付单status=支付成功&lt;br&gt;成功时间=系统时间&lt;br&gt;订单status=支付成功&lt;br&gt;paymemtType=银行卡&lt;br&gt;子订单status=支付成功&lt;br&gt;开会员submitServiceOrderPayCallback" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1790" y="962.5" width="200" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-77" target="RhXSYuH8bTCCS6jWZMSx-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-77" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;sceneFlag=2&amp;amp;&amp;amp;&lt;br&gt;order.bizType=member" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2090" y="1047.5" width="140" height="95" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-79" target="RhXSYuH8bTCCS6jWZMSx-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-79" value="处理中（异步）&lt;br&gt;支付单保存transNo" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2270" y="1167.5" width="180" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-80" value="开通先享后付&lt;br&gt;创建子订单status=已创建&lt;br&gt;创建账单status=初始化&lt;br&gt;记录账单状态&lt;br&gt;更新订单orderAmount=0,status=交易完成,sceneFlag=2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2510" y="1038.75" width="380" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-82" target="RhXSYuH8bTCCS6jWZMSx-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-82" value="1.帐单不是待付款/逾期代付款&lt;br&gt;返回”账单已支付完成，不能重复发起支付“&lt;br&gt;2.如果当前支付单非初始化状态返回&quot;数据重复&quot;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="1400" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-84" target="RhXSYuH8bTCCS6jWZMSx-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-84" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1415" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-86" target="RhXSYuH8bTCCS6jWZMSx-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-86" value="deductionType=1&lt;br&gt;校验验短信证码" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="1415" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-90" target="RhXSYuH8bTCCS6jWZMSx-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-90" target="RhXSYuH8bTCCS6jWZMSx-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-90" target="RhXSYuH8bTCCS6jWZMSx-93" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-90" value="调ctc支付" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1570" y="1415" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-91" value="成功&lt;br&gt;支付单status=支付成功&lt;br&gt;成功时间=系统时间&lt;br&gt;订单金额改为账单金额&lt;br&gt;子订单status=支付成功&lt;br&gt;deductionType=2发批扣成功短信&lt;br&gt;推ctc应收/实收&lt;br&gt;支付单记录应收实收推送状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1780" y="1250" width="200" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-92" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;账单status=待付款/逾期待付款&lt;br&gt;deductionType=2发批扣失败短信" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2030" y="1397.5" width="140" height="95" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-93" value="处理中（异步）&lt;br&gt;账单保存deductionType&lt;br&gt;支付单保存transNo" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2260" y="1460" width="180" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-97" target="RhXSYuH8bTCCS6jWZMSx-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-97" target="RhXSYuH8bTCCS6jWZMSx-102" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-97" target="RhXSYuH8bTCCS6jWZMSx-100" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-97" value="支付结果异步回调" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="138.75" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-98" value="非先享后付&lt;br&gt;原流程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="328.75" y="1740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-100" target="RhXSYuH8bTCCS6jWZMSx-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-100" value="账单" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="328.75" y="1980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-101" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-102" target="RhXSYuH8bTCCS6jWZMSx-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-102" value="商城订单" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="328.75" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-105" target="RhXSYuH8bTCCS6jWZMSx-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-105" target="RhXSYuH8bTCCS6jWZMSx-106" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-105" value="单号加锁&lt;br&gt;未获取到锁重试3次每次等3秒" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="528.75" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-106" value="失败&lt;br&gt;支付单status=失败" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1003.75" y="1860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-107" value="成功&lt;br&gt;查询订单是否已有成功的支付单 如有返回&lt;br&gt;账单状态如果是还款中、已结清、已作废返回&lt;br&gt;支付单status=成功&lt;br&gt;账单status=作废&lt;br&gt;cancelReason=TD002&lt;br&gt;订单sceneFlag=1&lt;br&gt;订单orderAmount=支付返回金额&lt;br&gt;子订单status=交易完成&lt;br&gt;ctc推原有买会员流水" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="698.75" y="1640" width="260" height="175" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-108" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-110" target="RhXSYuH8bTCCS6jWZMSx-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="RhXSYuH8bTCCS6jWZMSx-110" target="RhXSYuH8bTCCS6jWZMSx-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-110" value="单号加锁&lt;br&gt;未获取到锁重试3次每次等3秒" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="528.75" y="1980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-111" value="成功&lt;br&gt;账单状态如果是初始化、提前结清、已结清、已作废返回&lt;br&gt;支付单status=成功&lt;br&gt;账单status=提前结清/已结清&lt;br&gt;订单orderAmount=支付返回金额&lt;br&gt;子订单status=交易完成&lt;br&gt;如果deductionType=2&lt;br&gt;发批扣失败短信&lt;br&gt;ctc推应收、实收" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="698.75" y="2070" width="260" height="175" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-112" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;账单status=待付款/逾期待付款&lt;br&gt;如果deductionType=2&lt;br&gt;发批扣失败短信" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1011.25" y="1955" width="175" height="110" as="geometry" />
        </mxCell>
        <mxCell id="RhXSYuH8bTCCS6jWZMSx-113" value="极速购付款" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="55" y="40" width="110" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jf4U8PpWAb3nLzFw0JIk" name="支付结果回调">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="W5U0tuAELygxYNODsWbC-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;strokeWidth=1;" parent="1" target="B-xwvY4AU5kIVD5yX0ps-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="348" y="377" as="sourcePoint" />
            <mxPoint x="174" y="471" as="targetPoint" />
            <Array as="points">
              <mxPoint x="348" y="412" />
              <mxPoint x="174" y="412" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-6" value="处理中转失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="W5U0tuAELygxYNODsWbC-5" vertex="1" connectable="0">
          <mxGeometry x="0.3134" y="3" relative="1" as="geometry">
            <mxPoint x="10" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;strokeWidth=1;" parent="1" target="B-xwvY4AU5kIVD5yX0ps-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="348" y="374" as="sourcePoint" />
            <mxPoint x="574" y="449" as="targetPoint" />
            <Array as="points">
              <mxPoint x="348" y="412" />
              <mxPoint x="540" y="412" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-8" value="失败转成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="W5U0tuAELygxYNODsWbC-7" vertex="1" connectable="0">
          <mxGeometry x="-0.206" y="-2" relative="1" as="geometry">
            <mxPoint x="55" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-16" target="B-xwvY4AU5kIVD5yX0ps-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="335.5" y="191" as="sourcePoint" />
            <mxPoint x="341.5" y="231" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="gXPT7IpGKioI0x4b0nlG-2" target="B-xwvY4AU5kIVD5yX0ps-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="341.5" y="91" as="sourcePoint" />
            <mxPoint x="341.5" y="141" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-20" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="288" y="290" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="279" y="246" />
              <mxPoint x="24" y="246" />
              <mxPoint x="24" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-8" value="相等" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="B-xwvY4AU5kIVD5yX0ps-7" vertex="1" connectable="0">
          <mxGeometry x="0.025" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-6" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="288" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-9" target="B-xwvY4AU5kIVD5yX0ps-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-9" value="cat报警" style="whiteSpace=wrap;html=1;fontSize=14;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="480" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-16" value="加redis锁&lt;br&gt;（重试3次，间隔10秒）" style="whiteSpace=wrap;html=1;fontSize=14;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="125" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="W5U0tuAELygxYNODsWbC-1" target="B-xwvY4AU5kIVD5yX0ps-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-28" value="处理中转成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="B-xwvY4AU5kIVD5yX0ps-23" vertex="1" connectable="0">
          <mxGeometry x="0.2769" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-4" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="B-xwvY4AU5kIVD5yX0ps-23" vertex="1" connectable="0">
          <mxGeometry x="-0.5851" y="1" relative="1" as="geometry">
            <mxPoint x="-2" y="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;strokeWidth=1;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-20" target="W5U0tuAELygxYNODsWbC-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-3" value="不相等" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="W5U0tuAELygxYNODsWbC-2" vertex="1" connectable="0">
          <mxGeometry x="-0.425" y="-1" relative="1" as="geometry">
            <mxPoint x="2" y="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-20" value="幂等校验" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="279" y="220" width="135" height="50" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-22" target="B-xwvY4AU5kIVD5yX0ps-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-22" value="更新支付单状态&lt;br&gt;（成功）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="288" y="529" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-25" value="更新支付单状态&lt;br&gt;（失败）" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="114" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-27" value="" style="endArrow=classic;html=1;rounded=0;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-25" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="304" y="540" as="sourcePoint" />
            <mxPoint x="164" y="810" as="targetPoint" />
            <Array as="points">
              <mxPoint x="174" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-29" target="B-xwvY4AU5kIVD5yX0ps-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-29" value="更新主订单支付方式、订单金额，子订单状态" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="288" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-31" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-31" value="更新账单状态&lt;br&gt;（作废）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="288" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-41" target="B-xwvY4AU5kIVD5yX0ps-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-41" value="更新支付单状态&lt;br&gt;（成功）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="480" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;startArrow=none;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-46" target="B-xwvY4AU5kIVD5yX0ps-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-49" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="B-xwvY4AU5kIVD5yX0ps-42" vertex="1" connectable="0">
          <mxGeometry x="-0.2143" y="3" relative="1" as="geometry">
            <mxPoint x="-3" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-43" target="B-xwvY4AU5kIVD5yX0ps-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-43" value="更新主订单支付方式、订单金额，子订单状态" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="480" y="630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-44" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-44" value="更新账单状态&lt;br&gt;（作废）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="480" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-52" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="B-xwvY4AU5kIVD5yX0ps-51" vertex="1" connectable="0">
          <mxGeometry x="-0.3067" y="3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-46" value="账单是否已还" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="485" y="720" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-50" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-50" value="cat报警&lt;br&gt;人工介入&lt;br&gt;（重复支付）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="650" y="720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="B-xwvY4AU5kIVD5yX0ps-53" target="B-xwvY4AU5kIVD5yX0ps-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B-xwvY4AU5kIVD5yX0ps-53" value="redis解锁" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="288" y="900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gXPT7IpGKioI0x4b0nlG-1" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;支付结果回调&lt;br&gt;支付处理中同步job&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry x="15" y="10" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gXPT7IpGKioI0x4b0nlG-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="30" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;strokeWidth=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="W5U0tuAELygxYNODsWbC-1" target="eYhoWXNwYVaegP4tDWla-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="345" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-11" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;" parent="W5U0tuAELygxYNODsWbC-10" vertex="1" connectable="0">
          <mxGeometry x="-0.0857" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W5U0tuAELygxYNODsWbC-1" value="是否先享后付" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="298" y="315" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BjdXMulOc7CccohbMHdh-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=15;strokeWidth=1;" parent="1" source="eYhoWXNwYVaegP4tDWla-1" target="B-xwvY4AU5kIVD5yX0ps-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="345" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="800" y="345" />
              <mxPoint x="800" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eYhoWXNwYVaegP4tDWla-1" value="常规银行卡支付逻辑" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="650" y="315" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="XiplTp-N3cdZUfZxRdSh" name="发送短验">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="laFZMd66GA9ja5jKcGGe-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="3kVUEL6MV33j-QfyZV6_-1" target="Cmst-QC3IKm7gvBuS7K6-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-1" value="提示超过错误次数" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="548" y="235" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-2" target="3kVUEL6MV33j-QfyZV6_-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="548" y="186" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-4" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="3kVUEL6MV33j-QfyZV6_-3" vertex="1" connectable="0">
          <mxGeometry x="-0.3714" y="3" relative="1" as="geometry">
            <mxPoint x="20" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-2" target="3kVUEL6MV33j-QfyZV6_-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-3" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="3kVUEL6MV33j-QfyZV6_-15" vertex="1" connectable="0">
          <mxGeometry x="-0.25" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-2" value="获取验证码次数是否超限（根据业务类型区分）" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="274.5" y="231" width="127" height="63" as="geometry" />
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="3kVUEL6MV33j-QfyZV6_-7" target="laFZMd66GA9ja5jKcGGe-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-7" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="288" y="61" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-14" target="3kVUEL6MV33j-QfyZV6_-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-20" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="3kVUEL6MV33j-QfyZV6_-17" vertex="1" connectable="0">
          <mxGeometry x="-0.2129" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="3kVUEL6MV33j-QfyZV6_-14" target="Cmst-QC3IKm7gvBuS7K6-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="361" />
              <mxPoint x="608" y="876" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-12" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="laFZMd66GA9ja5jKcGGe-11" vertex="1" connectable="0">
          <mxGeometry x="-0.8181" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-14" value="是否可生成服务单" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="283" y="333" width="110" height="55" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-16" target="3kVUEL6MV33j-QfyZV6_-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-16" value="生成会员服务单" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="283" y="433" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-21" target="3kVUEL6MV33j-QfyZV6_-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-4" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="3kVUEL6MV33j-QfyZV6_-26" vertex="1" connectable="0">
          <mxGeometry x="-0.25" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="3kVUEL6MV33j-QfyZV6_-21" target="Cmst-QC3IKm7gvBuS7K6-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="536" />
              <mxPoint x="608" y="876" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-10" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="laFZMd66GA9ja5jKcGGe-9" vertex="1" connectable="0">
          <mxGeometry x="-0.3194" y="1" relative="1" as="geometry">
            <mxPoint x="-111" y="-45" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-21" value="是否可生成商城订单" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="286.5" y="511" width="103" height="50" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-25" target="3kVUEL6MV33j-QfyZV6_-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-25" value="生成商城订单" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="278" y="611" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="3kVUEL6MV33j-QfyZV6_-27" target="3kVUEL6MV33j-QfyZV6_-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-27" value="生成支付单" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="278" y="691" width="120" height="34" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=21;" parent="1" source="3kVUEL6MV33j-QfyZV6_-29" target="Cmst-QC3IKm7gvBuS7K6-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3kVUEL6MV33j-QfyZV6_-29" value="发送短信验证码&lt;br&gt;（区分业务类型）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="278" y="766" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-1" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="283" y="851" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-5" value="下单并支付发送短验" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry y="20" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-6" value="支付发送短验" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=21;" parent="1" vertex="1">
          <mxGeometry x="30" y="946" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Cmst-QC3IKm7gvBuS7K6-7" target="vO_unkUAC897aa2EK0k_-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-7" value="开始" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="30" y="1016" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" parent="1" source="Cmst-QC3IKm7gvBuS7K6-8" target="Cmst-QC3IKm7gvBuS7K6-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-8" value="生成支付单" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="370" y="1018.5" width="108.5" height="35" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" parent="1" source="Cmst-QC3IKm7gvBuS7K6-10" target="Cmst-QC3IKm7gvBuS7K6-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-10" value="发送短信验证码&lt;br&gt;（区分业务类型）" style="whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="540" y="1016" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Cmst-QC3IKm7gvBuS7K6-14" value="结束" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="710" y="1016" width="89" height="40" as="geometry" />
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=13;strokeWidth=1;" parent="1" source="laFZMd66GA9ja5jKcGGe-4" target="3kVUEL6MV33j-QfyZV6_-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-7" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="laFZMd66GA9ja5jKcGGe-6" vertex="1" connectable="0">
          <mxGeometry x="-0.2267" y="1" relative="1" as="geometry">
            <mxPoint x="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=13;strokeWidth=1;" parent="1" source="laFZMd66GA9ja5jKcGGe-4" target="Cmst-QC3IKm7gvBuS7K6-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="708" y="166" />
              <mxPoint x="708" y="876" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-14" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;" parent="laFZMd66GA9ja5jKcGGe-13" vertex="1" connectable="0">
          <mxGeometry x="-0.8567" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-18" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=13;strokeWidth=1;startArrow=none;startFill=0;endArrow=none;endFill=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="166" as="sourcePoint" />
            <mxPoint x="240" y="637" as="targetPoint" />
            <Array as="points">
              <mxPoint x="110" y="166" />
              <mxPoint x="110" y="637" />
              <mxPoint x="210" y="637" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-4" value="用户是否存在未结清账单" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="283" y="141" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="laFZMd66GA9ja5jKcGGe-19" value="下&lt;br style=&quot;font-size: 17px;&quot;&gt;单&lt;br style=&quot;font-size: 17px;&quot;&gt;逻&lt;br style=&quot;font-size: 17px;&quot;&gt;辑" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="103" y="323" width="40" height="100" as="geometry" />
        </mxCell>
        <mxCell id="vO_unkUAC897aa2EK0k_-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=14;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="vO_unkUAC897aa2EK0k_-1" target="Cmst-QC3IKm7gvBuS7K6-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="1120" as="targetPoint" />
            <Array as="points">
              <mxPoint x="215" y="1100" />
              <mxPoint x="755" y="1100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vO_unkUAC897aa2EK0k_-6" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="vO_unkUAC897aa2EK0k_-5" vertex="1" connectable="0">
          <mxGeometry x="-0.0951" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QaBvoPZPrHjVQF1OQcKk-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeWidth=1;" parent="1" source="vO_unkUAC897aa2EK0k_-1" target="Cmst-QC3IKm7gvBuS7K6-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QaBvoPZPrHjVQF1OQcKk-2" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="QaBvoPZPrHjVQF1OQcKk-1" vertex="1" connectable="0">
          <mxGeometry x="-0.1075" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vO_unkUAC897aa2EK0k_-1" value="获取验证码次数是否超限（根据业务类型区分）" style="rhombus;whiteSpace=wrap;html=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="154.5" y="1001.5" width="120" height="69" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jhihEd01B1AJkntwkpFb" name="创建订单并申请支付">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Bj_poSN_4iSF-yTs2QQZ-0" />
        <mxCell id="Bj_poSN_4iSF-yTs2QQZ-1" parent="Bj_poSN_4iSF-yTs2QQZ-0" />
        <mxCell id="LzZxJLU6-lEg-btEwVFV-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" source="LzZxJLU6-lEg-btEwVFV-1" target="LzZxJLU6-lEg-btEwVFV-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-1" value="创建订单并申请支付&lt;br&gt;createOrderAndPayApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="150" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" source="LzZxJLU6-lEg-btEwVFV-3" target="LzZxJLU6-lEg-btEwVFV-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-3" value="短信发送次数校验&lt;br&gt;用户相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="330" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" source="LzZxJLU6-lEg-btEwVFV-5" target="LzZxJLU6-lEg-btEwVFV-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-5" value="检查支付时间限制&lt;br&gt;（老逻辑没改动）&lt;br&gt;checkPayTimeLimit" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="500" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" source="LzZxJLU6-lEg-btEwVFV-7" target="LzZxJLU6-lEg-btEwVFV-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-7" value="用户有状态&amp;lt;5的账单&lt;br&gt;返回异常" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="680" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" source="LzZxJLU6-lEg-btEwVFV-9" target="LzZxJLU6-lEg-btEwVFV-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-9" value="&lt;span&gt;创建订单、服务单&lt;br&gt;&lt;/span&gt;（老逻辑没改动）&lt;br&gt;&lt;span&gt;submitServiceOrder&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="870" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LzZxJLU6-lEg-btEwVFV-10" value="&amp;nbsp;创建支付单、发短验&lt;span&gt;&lt;br&gt;后续继续走&lt;/span&gt;payApply&lt;br&gt;paySceneType=1&lt;span&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="Bj_poSN_4iSF-yTs2QQZ-1" vertex="1">
          <mxGeometry x="280" y="1050" width="140" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Zoz5eCM_SrsZ6gICwQOH" name="创建支付单发短验">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="cxAzVV30Vcd_qh9VtzuI-0" />
        <mxCell id="cxAzVV30Vcd_qh9VtzuI-1" parent="cxAzVV30Vcd_qh9VtzuI-0" />
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-2" target="Z4Spxa2eitQ0uU-wyt_S-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-2" target="Z4Spxa2eitQ0uU-wyt_S-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-2" value="&lt;span&gt;支付申请&lt;br&gt;payApply&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="400" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-4" target="Z4Spxa2eitQ0uU-wyt_S-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-4" value="账单还款&lt;br&gt;paySceneType=2" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="400" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-7" target="Z4Spxa2eitQ0uU-wyt_S-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-7" target="Z4Spxa2eitQ0uU-wyt_S-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-7" value="1.订单的支付流水有支付成功的返回”数据重复“&lt;br&gt;2.如果银行卡支付，支付流水有支付中的返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="375" y="560" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-9" target="Z4Spxa2eitQ0uU-wyt_S-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-9" value="支付宝支付&lt;br&gt;payType=alipay" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="590" y="650" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="N9yllgMCQMwATBdPIDoD-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-12" target="Z4Spxa2eitQ0uU-wyt_S-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="N9yllgMCQMwATBdPIDoD-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-12" target="Z4Spxa2eitQ0uU-wyt_S-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-12" value="根据单号幂等校验3秒内不能重复发 返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="590" y="750" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-14" target="Z4Spxa2eitQ0uU-wyt_S-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-14" value="银行卡支付&lt;br&gt;payType=bankCard&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="180" y="650" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-16" target="Z4Spxa2eitQ0uU-wyt_S-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-16" value="购买&lt;br&gt;paySceneType=1" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="550" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-18" target="Z4Spxa2eitQ0uU-wyt_S-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-18" value="如果订单bizType=member&lt;br&gt;且用户有状态&amp;lt;5的账单 &lt;br&gt;返回存在未结清账单" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="530" y="410" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-21" target="Z4Spxa2eitQ0uU-wyt_S-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-21" target="Z4Spxa2eitQ0uU-wyt_S-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-21" value="短信发送次数校验&lt;br&gt;相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="195" y="760" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-23" target="Z4Spxa2eitQ0uU-wyt_S-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-23" value="paySceneType=1&lt;br&gt;购买&lt;br&gt;mallBankCardApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="340" y="880" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-24" value="如果有支付中的支付流水&amp;amp;&amp;amp;paySceneType = 1&lt;br&gt;订单表保存&lt;br&gt;支付方式:alipay 状态:待付款&lt;br&gt;返回支付流水中的签名数据" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="387.5" y="670" width="177.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="N9yllgMCQMwATBdPIDoD-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-26" target="_toG87WUzbtLIIIpJ1TN-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-26" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="605" y="870" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-28" value="调ctc返回支付宝签名&lt;br&gt;支付单更新支付相关流水号、日期等数据&lt;br&gt;订单表保存&lt;br&gt;支付方式:alipay 状态:待付款" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="590" y="1160" width="170" height="78.75" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-30" target="Z4Spxa2eitQ0uU-wyt_S-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-30" value="paySceneType=2&lt;br&gt;账单还款&lt;br&gt;billBankCardApply" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="20" y="880" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="N9yllgMCQMwATBdPIDoD-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-32" target="Z4Spxa2eitQ0uU-wyt_S-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-32" value="账单还款申请&lt;br&gt;支付宝通过返回数据直接拉起&lt;br&gt;银行卡发短验然后调payConfirm" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="370" y="60" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-34" target="Z4Spxa2eitQ0uU-wyt_S-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-34" value="支付单status=初始化&lt;br&gt;paymentOrigin=mall" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="300" y="1010" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="Z4Spxa2eitQ0uU-wyt_S-36" target="Z4Spxa2eitQ0uU-wyt_S-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-36" value="支付单status=初始化&lt;br&gt;支付流水paymentOrigin=bill" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="30" y="1010" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Z4Spxa2eitQ0uU-wyt_S-37" value="发短信验证码" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="190" y="1270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="N9yllgMCQMwATBdPIDoD-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="cxAzVV30Vcd_qh9VtzuI-1" source="_toG87WUzbtLIIIpJ1TN-0" target="Z4Spxa2eitQ0uU-wyt_S-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_toG87WUzbtLIIIpJ1TN-0" value="支付单保存流水status=支付中&lt;br&gt;如果paySceneType=2&amp;nbsp;&lt;br&gt;支付单paymentOrigin=bill&lt;br&gt;账单status=还款中&lt;br&gt;账单deductionType=主动还款" style="rounded=0;whiteSpace=wrap;html=1;" parent="cxAzVV30Vcd_qh9VtzuI-1" vertex="1">
          <mxGeometry x="565" y="980" width="220" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="3fVHfDzl_AWq2AcCGUgh" name="支付确认">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="XNmQ2u0vZEjodFIHsF5P-0" />
        <mxCell id="XNmQ2u0vZEjodFIHsF5P-1" parent="XNmQ2u0vZEjodFIHsF5P-0" />
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-1" target="Gms9ZhM7QiMxteNL40uJ-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-1" value="支付确认&lt;br&gt;payConfirm" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="260" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-3" target="Gms9ZhM7QiMxteNL40uJ-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-3" value="短信发送次数校验&lt;br&gt;用户相同paySceneType&lt;br&gt;30分钟内5次以上锁定30分钟" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="250" y="190" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-5" target="Gms9ZhM7QiMxteNL40uJ-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-5" value="购买&lt;br&gt;paySceneType=1&lt;br&gt;mallBankCardPay" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="40" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-7" target="Gms9ZhM7QiMxteNL40uJ-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-7" value="1.校验订单是否有其他支付&lt;br&gt;2.如果有支付中/支付成功的支付单返回”订单已发起支付“&lt;br&gt;3.如果当前支付单非初始化状态返回&quot;数据重复&quot;" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="20" y="500" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="aM_hTIcHraEEEKTf-wmY-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-9" target="Gms9ZhM7QiMxteNL40uJ-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-9" value="账单还款&lt;br&gt;paySceneType=2&lt;br&gt;billBankCardPay" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="450" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.558;entryY=0.017;entryDx=0;entryDy=0;entryPerimeter=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-12" target="Gms9ZhM7QiMxteNL40uJ-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-12" target="Gms9ZhM7QiMxteNL40uJ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-12" value="根据单号幂等校验3秒内不能重复发 返回”订单已发起支付“" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="235" y="310" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-14" target="Gms9ZhM7QiMxteNL40uJ-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-14" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="30" y="650" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-16" target="Gms9ZhM7QiMxteNL40uJ-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-16" value="校验订单状态&lt;br&gt;校验验证码&lt;br&gt;支付单更新为支付中" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="30" y="750" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-20" target="Gms9ZhM7QiMxteNL40uJ-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-20" target="Gms9ZhM7QiMxteNL40uJ-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-20" target="Gms9ZhM7QiMxteNL40uJ-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-20" value="调ctc支付" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="40" y="846.25" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-21" value="成功&lt;br&gt;支付单status=支付成功&lt;br&gt;成功时间=系统时间&lt;br&gt;订单status=支付成功&lt;br&gt;paymemtType=银行卡&lt;br&gt;子订单status=支付成功&lt;br&gt;开会员submitServiceOrderPayCallback" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="210" y="817.5" width="200" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-23" target="Gms9ZhM7QiMxteNL40uJ-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-23" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;sceneFlag=2&amp;amp;&amp;amp;&lt;br&gt;order.bizType=member" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="30" y="1095" width="140" height="95" as="geometry" />
        </mxCell>
        <mxCell id="aM_hTIcHraEEEKTf-wmY-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-25" target="Gms9ZhM7QiMxteNL40uJ-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-25" value="处理中（异步）&lt;br&gt;支付单保存transNo" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="210" y="982.5" width="180" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-26" value="开通先享后付&lt;br&gt;创建子订单status=已创建&lt;br&gt;创建账单status=初始化&lt;br&gt;记录账单状态&lt;br&gt;更新订单orderAmount=0,status=交易完成,sceneFlag=2" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="50" y="1240" width="380" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-28" target="Gms9ZhM7QiMxteNL40uJ-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-28" value="1.帐单不是待付款/逾期代付款&lt;br&gt;返回”账单已支付完成，不能重复发起支付“&lt;br&gt;2.如果当前支付单非初始化状态返回&quot;数据重复&quot;" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="430" y="505" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-30" target="Gms9ZhM7QiMxteNL40uJ-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-30" value="单号加锁&lt;br&gt;检查订单状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="440" y="640" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-32" target="Gms9ZhM7QiMxteNL40uJ-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-32" value="deductionType=1&lt;br&gt;校验验短信证码" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="440" y="750" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-36" target="Gms9ZhM7QiMxteNL40uJ-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-37" target="Gms9ZhM7QiMxteNL40uJ-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="aM_hTIcHraEEEKTf-wmY-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-36" target="Gms9ZhM7QiMxteNL40uJ-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-36" value="调ctc支付" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="450" y="870" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-38" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;账单status=待付款/逾期待付款&lt;br&gt;deductionType=2发批扣失败短信" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="440" y="1095" width="140" height="95" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-39" value="处理中（异步）&lt;br&gt;账单保存deductionType&lt;br&gt;支付单保存transNo" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="610" y="1230" width="180" height="112.5" as="geometry" />
        </mxCell>
        <mxCell id="Gms9ZhM7QiMxteNL40uJ-37" value="成功&lt;br&gt;支付单status=支付成功&lt;br&gt;成功时间=系统时间&lt;br&gt;订单金额改为账单金额&lt;br&gt;子订单status=支付成功&lt;br&gt;deductionType=2发批扣成功短信&lt;br&gt;推ctc应收/实收&lt;br&gt;支付单记录应收实收推送状态" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="600" y="841.25" width="200" height="117.5" as="geometry" />
        </mxCell>
        <mxCell id="aM_hTIcHraEEEKTf-wmY-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="Gms9ZhM7QiMxteNL40uJ-36" target="Gms9ZhM7QiMxteNL40uJ-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="900" as="sourcePoint" />
            <mxPoint x="1510" y="1150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_v9bvyp7wAWGdtCZC4d_-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" source="_v9bvyp7wAWGdtCZC4d_-0" target="Gms9ZhM7QiMxteNL40uJ-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_v9bvyp7wAWGdtCZC4d_-0" value="批扣" style="rounded=0;whiteSpace=wrap;html=1;" parent="XNmQ2u0vZEjodFIHsF5P-1" vertex="1">
          <mxGeometry x="620" y="390" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="dJfuuCtiss6PwosYWQrt" name="支付结果回调">
    <mxGraphModel dx="1234" dy="-293" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="zyrrXnaTMsCua9B-Ausj-0" />
        <mxCell id="zyrrXnaTMsCua9B-Ausj-1" parent="zyrrXnaTMsCua9B-Ausj-0" />
        <mxCell id="FfP89_hXhQBuGvcnblkg-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-3" target="FfP89_hXhQBuGvcnblkg-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-3" target="FfP89_hXhQBuGvcnblkg-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-3" target="FfP89_hXhQBuGvcnblkg-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-3" value="支付结果异步回调" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="280" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-4" value="非先享后付&lt;br&gt;原流程" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="80" y="1290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-6" target="FfP89_hXhQBuGvcnblkg-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-6" value="账单" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="480" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-8" target="FfP89_hXhQBuGvcnblkg-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-8" value="商城订单" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="280" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-11" target="FfP89_hXhQBuGvcnblkg-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-11" target="FfP89_hXhQBuGvcnblkg-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-11" value="单号加锁&lt;br&gt;未获取到锁重试3次每次等3秒" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="280" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-12" value="失败&lt;br&gt;支付单status=失败" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="90" y="1480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-13" value="成功&lt;br&gt;查询订单是否已有成功的支付单 如有返回&lt;br&gt;账单状态如果是还款中、已结清、已作废返回&lt;br&gt;支付单status=成功&lt;br&gt;账单status=作废&lt;br&gt;cancelReason=TD002&lt;br&gt;订单sceneFlag=1&lt;br&gt;订单orderAmount=支付返回金额&lt;br&gt;子订单status=交易完成&lt;br&gt;ctc推原有买会员流水" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="140" y="1680" width="260" height="175" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-16" target="FfP89_hXhQBuGvcnblkg-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" source="FfP89_hXhQBuGvcnblkg-16" target="FfP89_hXhQBuGvcnblkg-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-16" value="单号加锁&lt;br&gt;未获取到锁重试3次每次等3秒" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="480" y="1410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-17" value="成功&lt;br&gt;账单状态如果是初始化、提前结清、已结清、已作废返回&lt;br&gt;支付单status=成功&lt;br&gt;账单status=提前结清/已结清&lt;br&gt;订单orderAmount=支付返回金额&lt;br&gt;子订单status=交易完成&lt;br&gt;如果deductionType=2&lt;br&gt;发批扣失败短信&lt;br&gt;ctc推应收、实收" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="450" y="1680" width="260" height="175" as="geometry" />
        </mxCell>
        <mxCell id="FfP89_hXhQBuGvcnblkg-18" value="失败&lt;br&gt;支付单status=失败&lt;br&gt;账单status=待付款/逾期待付款&lt;br&gt;如果deductionType=2&lt;br&gt;发批扣失败短信" style="rounded=0;whiteSpace=wrap;html=1;" parent="zyrrXnaTMsCua9B-Ausj-1" vertex="1">
          <mxGeometry x="610" y="1480" width="175" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="5w7ryJfJ5eZnAvjH98L_" name="批扣">
    <mxGraphModel dx="1234" dy="876" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="1UeAovynbb_x7jKAB0B0-0" />
        <mxCell id="1UeAovynbb_x7jKAB0B0-1" parent="1UeAovynbb_x7jKAB0B0-0" />
        <mxCell id="1UeAovynbb_x7jKAB0B0-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1UeAovynbb_x7jKAB0B0-1" source="1UeAovynbb_x7jKAB0B0-3" target="1UeAovynbb_x7jKAB0B0-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1UeAovynbb_x7jKAB0B0-3" value="每天19点&lt;br&gt;按配置日期和状态查询账单批扣" style="rounded=0;whiteSpace=wrap;html=1;" parent="1UeAovynbb_x7jKAB0B0-1" vertex="1">
          <mxGeometry x="340" y="80" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1UeAovynbb_x7jKAB0B0-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1UeAovynbb_x7jKAB0B0-1" source="1UeAovynbb_x7jKAB0B0-5" target="1UeAovynbb_x7jKAB0B0-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1UeAovynbb_x7jKAB0B0-5" value="创建支付单&lt;br&gt;status=初始化&lt;br&gt;paymentType=bankCard&lt;br&gt;paymentOrigin=bill" style="rounded=0;whiteSpace=wrap;html=1;" parent="1UeAovynbb_x7jKAB0B0-1" vertex="1">
          <mxGeometry x="300" y="210" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="1UeAovynbb_x7jKAB0B0-7" value="&lt;span&gt;见支付确认流程&lt;/span&gt;&lt;br&gt;&lt;span&gt;批扣&lt;br&gt;deductionType=2&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1UeAovynbb_x7jKAB0B0-1" vertex="1">
          <mxGeometry x="340" y="360" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
